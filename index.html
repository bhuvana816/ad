<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CampusPanel Placement Admin (Responsive)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;}
    .glass { background: linear-gradient(180deg, rgba(255,255,255,0.82), rgba(255,255,255,0.65)); backdrop-filter: blur(6px);}
    .card-shadow { box-shadow: 0 12px 30px rgba(2,6,23,0.09);}
    .muted { color: #6B7280;}
    .small { font-size: 0.92rem;}
    .pulse { animation: pulse 1s;}
    .filter-chip { background:#e0e7ef; border-radius:18px; padding:3px 11px; margin-right:8px; font-size: 0.88rem; color:#243147;}
    @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.08); } 100% { transform: scale(1); } }
    .sidebar-link {cursor:pointer; transition:background 0.2s;}
    .sidebar-link.active, .sidebar-link:focus {background-color:#eff6ff; color:#2563eb;}
    .search-bar {border: 1.5px solid #cbd5e1; border-radius: 8px;}
    .search-bar:focus {outline: none; border-color: #3b82f6;}
    .fab {position: fixed; right: 18px; bottom: 32px; z-index:50; box-shadow:0 4px 30px #6366f188;}
    .logo-text {display:inline;}
    .sidebar-label {display:inline;}
    .hamburger {display:none; position:absolute; top:18px; left:12px; background:#fff; z-index:100; border-radius:8px; padding:8px;}
    @media (max-width: 900px) {
      aside { width: 56px !important; padding:0 !important;}
      .logo-text {display:none;}
      .sidebar-label {display:none;}
      .hamburger {display:inline;}
    }
    @media (max-width: 640px) {
      .fab { right: 10px; bottom: 14px; padding:12px 20px; font-size:1rem;}
    }
    @media (max-width:500px){
      main {padding:8px;}
      .card-shadow, .glass {padding:10px;}
    }
    /* Smooth scroll for section changes */
    main {scroll-behavior: smooth;}
  </style>
</head>
<body class="bg-gradient-to-b from-slate-50 to-white min-h-screen">
<div class="min-h-screen flex relative">

  <!-- Hamburger menu for mobile -->
  <button id="hamburgerBtn" class="hamburger border">
    <svg width="28" height="28" fill="none" stroke="#222"><rect width="28" height="28"/><path stroke-width="2" d="M7 10h14M7 14h14M7 18h14"/></svg>
  </button>

  <!-- Sidebar -->
  <aside id="sidebar" class="w-72 bg-white/60 backdrop-blur-md p-6 border-r border-slate-200 transition-all duration-300 fixed md:sticky top-0 left-0 h-screen z-40">
    <div class="logo flex items-center gap-3 mb-6">
      <div class="w-12 h-12 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-500 text-white flex items-center justify-center font-bold">CP</div>
      <div class="logo-text">
        <div class="text-xl font-semibold">CampusPanel</div>
        <div class="text-xs muted">Admin Dashboard</div>
      </div>
    </div>
    <nav id="sidebarNav" class="space-y-2 text-slate-700">
      <a class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg" data-section="dashboard" title="Dashboard"><span>üè†</span><span class="sidebar-label">Dashboard</span></a>
      <a class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg" data-section="students" title="Students"><span>üë©‚Äçüéì</span><span class="sidebar-label">Students</span></a>
      <a class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg" data-section="colleges" title="Colleges"><span>üè´</span><span class="sidebar-label">Colleges</span></a>
      <a class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg" data-section="companies" title="Companies"><span>üè¢</span><span class="sidebar-label">Companies</span></a>
      <a class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg" data-section="reports" title="Reports"><span>üìÑ</span><span class="sidebar-label">Reports</span></a>
    </nav>
    <div class="mt-8 logo-text">
      <div class="text-xs muted mb-2">Quick actions</div>
      <button id="resetBtn" class="w-full px-3 py-2 rounded-lg border text-sm">Reset Filters</button>
    </div>
    <div class="mt-6 text-xs muted logo-text">Built for: College Placement Analytics</div>
  </aside>

  <!-- Main content area -->
  <main id="mainContent" class="flex-1 p-6 space-y-6 md:ml-72">
    <!-- Content loads here dynamically -->
  </main>

  <!-- Floating Add Button, appears for some sections -->
  <button id="fab" class="fab bg-blue-600 text-white px-6 py-3 rounded-full shadow-lg hover:bg-blue-700 transition hidden">+ Add</button>
</div>

<script>
const colleges = [
  { name: "ABC Engineering", district: "Hyderabad", group: "Group A" },
  { name: "XYZ Tech", district: "Hyderabad", group: "Group A" },
  { name: "JNTU", district: "Warangal", group: "Group B" },
  { name: "VNR", district: "Nalgonda", group: "Group B" },
  { name: "MGIT", district: "Hyderabad", group: "Group A" }
];
const stats = {
  "ABC Engineering": { total: 300, placed: 120, active24: 200, active1h: 20, active7d: 240 },
  "XYZ Tech": { total: 400, placed: 150, active24: 300, active1h: 35, active7d: 350 },
  "JNTU": { total: 350, placed: 180, active24: 280, active1h: 25, active7d: 320 },
  "VNR": { total: 300, placed: 140, active24: 180, active1h: 18, active7d: 210 },
  "MGIT": { total: 350, placed: 120, active24: 310, active1h: 30, active7d: 330 }
};
const companyVisits = {
  2021: { "ABC Engineering": 4, "XYZ Tech": 5, "JNTU": 6, "VNR": 3, "MGIT": 4 },
  2022: { "ABC Engineering": 6, "XYZ Tech": 7, "JNTU": 8, "VNR": 4, "MGIT": 5 },
  2023: { "ABC Engineering": 8, "XYZ Tech": 10, "JNTU": 9, "VNR": 6, "MGIT": 7 },
  2024: { "ABC Engineering": 9, "XYZ Tech": 12, "JNTU": 11, "VNR": 8, "MGIT": 9 },
  2025: { "ABC Engineering": 6, "XYZ Tech": 8, "JNTU": 7, "VNR": 5, "MGIT": 7 }
};
const topCompaniesThisYear = {
  "All Colleges": { "Infosys": 120, "TCS": 110, "Wipro": 95, "Amazon": 80, "Google": 30 },
  "ABC Engineering": { "Infosys": 30, "TCS": 20, "Wipro": 18, "Amazon": 12, "Google": 5 },
  "XYZ Tech": { "Infosys": 40, "TCS": 30, "Wipro": 20, "Amazon": 18, "Google": 8 },
  "JNTU": { "Infosys": 30, "TCS": 25, "Wipro": 22, "Amazon": 15, "Google": 10 },
  "VNR": { "Infosys": 12, "TCS": 20, "Wipro": 12, "Amazon": 8, "Google": 0 },
  "MGIT": { "Infosys": 8, "TCS": 15, "Wipro": 23, "Amazon": 27, "Google": 7 }
};
let sampleActivity = [
  { person: "Ramya", action: "Uploaded resume", college: "ABC Engineering", time: "5m ago" },
  { person: "Ravi", action: "Applied to Infosys", college: "XYZ Tech", time: "12m ago" },
  { person: "Anita", action: "Completed mock test (82%)", college: "JNTU", time: "30m ago" },
  { person: "TPO - VNR", action: "Approved drive by Wipro", college: "VNR", time: "1h ago" },
  { person: "MGIT Admin", action: "Added 40 new students", college: "MGIT", time: "2h ago" }
];

const mainContent = document.getElementById('mainContent');
const sidebarLinks = document.querySelectorAll('.sidebar-link');
const fab = document.getElementById('fab');
let currentSection = 'dashboard';

// Hamburger sidebar toggle
const sidebar = document.getElementById('sidebar');
const hamburgerBtn = document.getElementById('hamburgerBtn');
let sidebarOpen = false;
function closeSidebarMobile(){sidebar.style.left='-100px';sidebarOpen=false;}
function openSidebarMobile(){sidebar.style.left='0';sidebarOpen=true;}
hamburgerBtn.onclick = function(){
  if(!sidebarOpen) openSidebarMobile();
  else closeSidebarMobile();
};
window.addEventListener('resize', ()=>{
  if(window.innerWidth>900){
    sidebar.style.left='0'; sidebarOpen=true;
  }else{
    closeSidebarMobile();
  }
});


const sections = {
  dashboard: renderDashboardSection,
  students: renderStudentsSection,
  colleges: renderCollegesSection,
  companies: renderCompaniesSection,
  reports: renderReportsSection
};
sidebarLinks.forEach(link => {
  link.addEventListener('click', (e) => {
    sidebarLinks.forEach(l => l.classList.remove('active'));
    link.classList.add('active');
    currentSection = link.getAttribute('data-section');
    mainContent.innerHTML = '';
    fab.style.display = ["students", "colleges", "companies"].includes(currentSection) ? 'inline-block' : 'none';
    fab.textContent = "+ Add " + (
      currentSection === "students" ? "Student" :
      currentSection === "colleges" ? "College" :
      currentSection === "companies" ? "Company" : ""
    );
    fab.onclick = function(){ showAddModal(currentSection)};
    sections[currentSection]();
    // Close sidebar on mobile after section click
    if(window.innerWidth<900) closeSidebarMobile();
  });
});
sidebarLinks[0].classList.add('active');
setTimeout(()=>sections.dashboard(),50);

function globalSearchBar() {
  return `
    <div class="w-full max-w-3xl mx-auto mb-6">
      <input type="text" id="globalSearch" class="w-full p-3 search-bar" placeholder="üîé Search students, colleges, companies...">
    </div>
  `;
}
function renderDashboardSection() {
  mainContent.innerHTML = `
    ${globalSearchBar()}
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-2">
      <div class="flex items-center gap-4">
        <div class="text-2xl font-bold">Overview</div>
        <div class="text-sm muted">Live insights ‚Äî auto-updating</div>
      </div>
      <div class="flex items-center gap-4">
        <div class="text-right hidden md:block">
          <div class="font-semibold">Admin</div>
          <div class="text-xs muted">admin@campus.com</div>
        </div>
        <div class="w-10 h-10 rounded-md bg-blue-100 text-blue-700 flex items-center justify-center font-semibold">A</div>
      </div>
    </div>
    <div id="activeFilters"></div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4" id="cardsPanel"></div>
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mt-4">
      <div class="col-span-1 space-y-4">
        <div class="bg-white p-4 rounded-lg card-shadow glass">
          <div class="flex items-center justify-between mb-2"><div class="font-semibold">Placed vs Not Placed</div><div class="small muted">overall / selection</div></div>
          <canvas id="piePlaced"></canvas>
        </div>
        <div class="bg-white p-4 rounded-lg card-shadow glass">
          <div class="flex items-center justify-between mb-2"><div class="font-semibold">Active Users (live)</div><div class="small muted">last 24 points</div></div>
          <canvas id="lineActive"></canvas>
        </div>
      </div>
      <div class="col-span-1 space-y-4">
        <div class="bg-white p-4 rounded-lg card-shadow glass">
          <div class="flex items-center justify-between mb-2"><div class="font-semibold">Top Hiring Companies (this year)</div><div class="small muted">count</div></div>
          <canvas id="barCompanies"></canvas>
        </div>
        <div class="bg-white p-4 rounded-lg card-shadow glass">
          <div class="flex items-center justify-between mb-2"><div class="font-semibold">Companies Visited Per Year</div><div class="small muted">select college ‚Üí shows years</div></div>
          <canvas id="companyYear"></canvas>
        </div>
      </div>
      <div class="col-span-1 space-y-4">
        <div class="bg-white p-4 rounded-lg card-shadow glass">
          <div class="flex items-center justify-between mb-2"><div class="font-semibold">Selection Summary</div><div class="small muted" id="selectionLabel">All Colleges ‚Ä¢ All Years</div></div>
          <div class="grid grid-cols-2 gap-3">
            <div class="p-3 rounded border"><div class="small muted">Colleges Selected</div><div id="selColleges" class="font-semibold">‚Äî</div></div>
            <div class="p-3 rounded border"><div class="small muted">Companies (this year)</div><div id="selCompanies" class="font-semibold">‚Äî</div></div>
          </div>
        </div>
        <div class="bg-white p-4 rounded-lg card-shadow" style="max-height:360px; overflow:auto;">
          <div class="font-semibold mb-2">Recent Activity</div>
          <ul id="activityFeed" class="space-y-3 text-sm"></ul>
        </div>
      </div>
    </div>
  `;
  runDashboardLogic();
  document.getElementById('globalSearch').oninput = (e) => {
    filterState.search = e.target.value;
    runDashboardLogic();
  };
}
function renderStudentsSection() {
  mainContent.innerHTML = `
    ${globalSearchBar()}
    <div class="flex flex-col sm:flex-row items-center gap-4 mb-4">
      <div class="text-2xl font-bold">üë©‚Äçüéì Students</div>
      <div class="text-sm muted">Browse, search, and filter all students</div>
    </div>
    <div class="bg-white p-4 rounded-lg card-shadow mb-4">
      <input id="studentSearch" class="w-full search-bar p-2" type="text" placeholder="Search student name, college, branch..."/>
    </div>
    <div id="studentsTable"></div>
  `;
  renderStudentsTable();
  document.getElementById('studentSearch').oninput = function () {renderStudentsTable(this.value.trim());};
  document.getElementById('globalSearch').oninput = function () {renderStudentsTable(this.value.trim());};
}
function renderStudentsTable(query = "") {
  let students = [];
  ["Ramya","Ravi","Anita","Venkatesh","Kaushik","Sara","Vijay","Shruti","Anjali","Rishabh"].forEach((name,i)=> {
    let college = colleges[i%colleges.length].name;
    let branch = ["CSE","ECE","EEE","MECH","CIVIL"][i%5];
    let year = 2022+ (i%4);
    let placed = (i%2===0);
    students.push({name,college,branch,year,placed});
  });
  if(query) {
    students = students.filter(s =>
      s.name.toLowerCase().includes(query.toLowerCase()) ||
      s.college.toLowerCase().includes(query.toLowerCase()) ||
      s.branch.toLowerCase().includes(query.toLowerCase())
    );
  }
  let html = `<div class="overflow-x-auto"><table class="min-w-full text-sm"><thead><tr>
      <th class="p-2 text-left">Name</th><th class="p-2 text-left">College</th>
      <th class="p-2 text-left">Branch</th><th class="p-2 text-left">Year</th>
      <th class="p-2 text-left">Placed</th></tr></thead><tbody>`;
  students.forEach(s=>{
    html += `<tr class="border-b hover:bg-blue-50"><td class="p-2">${s.name}</td>
      <td class="p-2">${s.college}</td>
      <td class="p-2">${s.branch}</td>
      <td class="p-2">${s.year}</td>
      <td class="p-2">${s.placed?'<span class="text-green-600">Yes</span>':'<span class="text-red-600">No</span>'}</td></tr>`;
  });
  html += `</tbody></table></div>`;
  document.getElementById('studentsTable').innerHTML = html;
}
function renderCollegesSection() {
  mainContent.innerHTML = `
    ${globalSearchBar()}
    <div class="flex items-center gap-4 mb-4 flex-col sm:flex-row">
      <div class="text-2xl font-bold">üè´ Colleges</div>
      <div class="text-sm muted">List of all participating colleges</div>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-8" id="collegesGrid"></div>
  `;
  renderCollegesGrid();
  document.getElementById('globalSearch').oninput = function () {
    renderCollegesGrid(this.value.trim());
  };
}
function renderCollegesGrid(query="") {
  let list = [...colleges];
  if(query) list = list.filter(c=>c.name.toLowerCase().includes(query.toLowerCase()) || c.district.toLowerCase().includes(query.toLowerCase()));
  document.getElementById('collegesGrid').innerHTML = list.map(c=>`
    <div class="bg-white p-4 rounded-lg card-shadow hover:ring-2 hover:ring-blue-300 transition">
      <div class="text-lg font-semibold">${c.name}</div>
      <div class="small muted">District: ${c.district}</div>
      <div class="small muted">Group: ${c.group}</div>
    </div>
  `).join('');
}
function renderCompaniesSection() {
  mainContent.innerHTML = `
    ${globalSearchBar()}
    <div class="flex items-center gap-4 mb-4 flex-col sm:flex-row">
      <div class="text-2xl font-bold">üè¢ Companies</div>
      <div class="text-sm muted">Top recruiters this year</div>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-10" id="companiesGrid"></div>
  `;
  renderCompaniesGrid();
  document.getElementById('globalSearch').oninput = function () {
    renderCompaniesGrid(this.value.trim());
  };
}
function renderCompaniesGrid(query="") {
  let comps = Object.entries(topCompaniesThisYear['All Colleges']);
  if(query) comps = comps.filter(([c,v])=> c.toLowerCase().includes(query.toLowerCase()));
  document.getElementById('companiesGrid').innerHTML = comps.map(([c,v])=>`
    <div class="bg-white p-4 rounded-lg card-shadow flex flex-col hover:ring-2 hover:ring-blue-400 transition">
      <div class="text-lg font-semibold">${c}</div>
      <div class="small muted">Offers: ${v}</div>
    </div>
  `).join('');
}
function renderReportsSection() {
  mainContent.innerHTML = `
    ${globalSearchBar()}
    <div class="flex items-center gap-4 mb-4 flex-col sm:flex-row">
      <div class="text-2xl font-bold">üìÑ Reports</div>
      <div class="text-sm muted">Download analytics and placement reports</div>
    </div>
    <div class="bg-white p-4 rounded-lg card-shadow mb-4">
      <button class="px-4 py-2 bg-blue-600 text-white rounded mb-2">Download Placements Report</button>
      <button class="px-4 py-2 bg-teal-500 text-white rounded mb-2">Download Companies Summary</button>
      <button class="px-4 py-2 bg-gray-700 text-white rounded">Download Student List</button>
    </div>
    <div class="muted small">Custom analytics download &mdash; coming soon.</div>
  `;
} 

let filterState = {search:""};
function runDashboardLogic() {
  renderFilterChips();
  let selection = filterState;
  let names = Object.keys(stats);
  if (filterState.search) names = names.filter(n => n.toLowerCase().includes(filterState.search.toLowerCase()));
  let total=0, placed=0, active24=0, active1h=0, active7d=0;
  names.forEach(n=>{
    const s = stats[n]; total+=s.total; placed+=s.placed; active24+=s.active24; active1h+=s.active1h; active7d+=s.active7d;
  });
  let percent = total?((placed/total)*100).toFixed(1)+'%':'‚Äî';
  renderCards({total,placed,percent,active24,active1h,active7d});
  pieChart?.destroy(); lineChart?.destroy(); barCompaniesChart?.destroy(); companyYearChart?.destroy();
  setupCharts(total, placed);

  document.getElementById('selectionLabel').textContent = names.length<=5?(names.join(', ')||'All Colleges ‚Ä¢ All Years'):`All Colleges ‚Ä¢ All Years`;
  document.getElementById('selColleges').textContent = (names.length>5)?(names.length+' colleges'):names.join(', ');
  let compSet = new Set();
  names.forEach(n=>{const map=topCompaniesThisYear[n]||{}; Object.keys(map).forEach(c=>{if(map[c]>0)compSet.add(c);})});
  document.getElementById('selCompanies').textContent = compSet.size;

  let curFeed = sampleActivity.filter(a =>
    (!filterState.search ||
      a.person.toLowerCase().includes(filterState.search.toLowerCase()) ||
      a.action.toLowerCase().includes(filterState.search.toLowerCase()) ||
      a.college.toLowerCase().includes(filterState.search.toLowerCase())
    )
  );
  renderActivity(curFeed);
}
function renderCards(overview){
  let cardsPanel=document.getElementById('cardsPanel');
  cardsPanel.innerHTML='';
  const cards=[{
    span:2,label:'Total Students',value:overview.total,color:'blue-600',sub:'All colleges',placedLabel:'Placed %',placed:overview.percent,placedColor:'green-600'
  },{
    label:'Placed Students',value:overview.placed,color:'green-600',sub:'Total placed' 
  },{
    label:'Active Now',value:overview.active1h,color:'amber-600 pulse',sub:'Active last 1 hr' 
  },{
    label:'Active (24h)',value:overview.active24,color:'indigo-600',sub:'Unique users last 24h' 
  },{
    label:'Active (7d)',value:overview.active7d,color:'pink-600',sub:'Unique users last 7d' 
  }];
  cards.forEach((card,i)=>{
    let colSpan=card.span?`col-span-${card.span}`:'';
    cardsPanel.innerHTML+=`
      <div id="card${i}" class="${colSpan} bg-white p-4 rounded-lg card-shadow glass transition">
        <div class="flex items-center justify-between">
          <div>
            <div class="text-sm muted">${card.label}</div>
            <div class="text-3xl font-bold text-${card.color}">${card.value}</div>
            <div class="small muted">${card.sub}</div>
          </div>
          ${card.placedLabel?`<div class="text-right"><div class="text-xs muted">${card.placedLabel}</div>
            <div class="text-xl font-semibold text-${card.placedColor}">${card.placed}</div></div>`:""}
        </div>
      </div>
    `;
  });
  for(let i=0;i<cards.length;i++)animateCardUpdate('card'+i);
}
function animateCardUpdate(cardId) {
  const el = document.getElementById(cardId);
  el.classList.add('pulse'); setTimeout(()=>el.classList.remove('pulse'), 800);
}
let pieChart,lineChart,barCompaniesChart,companyYearChart;
let activeHistory = Array.from({length:24}, (_,i)=> Math.floor(50 + Math.random()*120));
function setupCharts(total, placed){
  pieChart=new Chart(document.getElementById('piePlaced'),{
    type:'pie',
    data:{labels:['Placed','Not Placed'],datasets:[{data:[placed,total-placed],backgroundColor:['#10b981','#93c5fd']}]},
    options:{responsive:true,plugins:{legend:{position:'bottom'}}}
  });
  lineChart=new Chart(document.getElementById('lineActive'),{
    type:'line',
    data:{labels:Array.from({length:24},()=>''),datasets:[{label:'Active',data:activeHistory,borderColor:'#2563eb',backgroundColor:'rgba(37,99,235,0.12)',fill:true,tension:0.3}]},
    options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{beginAtZero:true}}}
  });
  barCompaniesChart=new Chart(document.getElementById('barCompanies'),{
    type:'bar',
    data:{labels:Object.keys(topCompaniesThisYear['All Colleges']),datasets:[{label:'Hires',data:Object.values(topCompaniesThisYear['All Colleges']),backgroundColor:'#6366f1'}]},
    options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{beginAtZero:true}}}
  });
  companyYearChart=new Chart(document.getElementById('companyYear'),{
    type:'bar',
    data:{labels:Object.keys(companyVisits),datasets:[{label:'Companies visited',data:Object.keys(companyVisits).map(y=>Object.values(companyVisits[y]).reduce((a,b)=>a+b,0)),backgroundColor:'#f97316'}]},
    options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{beginAtZero:true}}}
  });
}
function renderActivity(list) {
  let out = (list.length?list:sampleActivity).map(a=>`
    <li class="flex items-start gap-3">
      <div class="w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center font-semibold">${a.person[0]}</div>
      <div class="flex-1">
        <div class="text-sm"><span class="font-semibold">${a.person}</span> ‚Äî ${a.action}</div>
        <div class="small muted">${a.college} ‚Ä¢ ${a.time}</div>
      </div>
    </li>
  `).join('');
  document.getElementById('activityFeed').innerHTML = out;
}
function renderFilterChips() {
  let el = document.getElementById('activeFilters');
  el.innerHTML = '';
  if (filterState.search)
    el.innerHTML += `<span class="filter-chip">search: "${filterState.search}"</span>`;
}
setInterval(function() {
  activeHistory.shift();
  activeHistory.push(Math.max(12, Math.floor(40+Math.random()*130)));
  if(currentSection==='dashboard') runDashboardLogic();
},4000);

function showAddModal(type){
  alert('Add '+ (type==='students'?"Student":type==='companies'?"Company":type==='colleges'?"College":'Record')+'\n(Feature demo - integrate your form here)');
}
</script>
</body>
</html>
